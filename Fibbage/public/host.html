<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fibbage - Host</title>
  <link rel="stylesheet" href="css/host.css">
  <link rel="stylesheet" href="css/host-animations.css">
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <!-- Audio Controls (fixed position, top right) -->
  <div class="audio-controls">
    <button class="audio-toggle-button" id="musicToggleButton">ðŸŽµ Music</button>
    <button class="audio-toggle-button" id="sfxToggleButton">ðŸ”Š SFX</button>
  </div>

  <div class="container">
    <!-- Lobby Screen -->
    <div id="lobbyScreen" class="lobby-screen active">
      <h1 id="gameTitle" style="font-size: 48px; margin-bottom: 20px;">Fibbage</h1>
      <div class="room-code-display" id="roomCodeDisplay">----</div>
      <div class="game-rules" id="gameRules" style="max-width: 700px; margin: 20px auto; padding: 25px 30px; background: linear-gradient(135deg, rgba(255,107,129,0.2) 0%, rgba(78,205,196,0.2) 100%); border: 3px solid rgba(255,255,255,0.4); border-radius: 20px; text-align: left; white-space: pre-line; line-height: 1.8; font-size: 16px; font-weight: 500; color: #ffffff; box-shadow: 0 8px 32px rgba(0,0,0,0.3); text-shadow: 1px 1px 2px rgba(0,0,0,0.5);"></div>
      <div class="player-count" id="playerCount">Waiting for players...</div>
      <div class="players-grid" id="playersGrid"></div>
      <button class="start-button" id="startButton" disabled>Start Game</button>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="game-screen">
      <div class="question-number" id="questionNumber">Question 1 of 8</div>
      <div class="timer-display" id="timerDisplay">30</div>
      <div class="question-display" id="questionDisplay"></div>

      <!-- Reading Phase -->
      <div id="readingPhase" class="reading-phase" style="display: none;">
        <div class="reading-progress-bar" id="readingProgressBar"></div>
        <div class="reading-message">Read the question...</div>
      </div>

      <!-- Submit Phase -->
      <div id="submitPhase" class="submit-phase" style="display: none;">
        <div class="submit-status" id="submitStatus">Players are submitting answers...</div>
        <div class="submit-checkmarks" id="submitCheckmarks"></div>
      </div>

      <!-- Voting Phase -->
      <div id="votingPhase" class="voting-phase" style="display: none;">
        <h2 style="font-size: 36px; margin-bottom: 30px;">Vote for the correct answer!</h2>
        <div class="voting-status" id="votingStatus">Players are voting...</div>
        <div class="voting-checkmarks" id="votingCheckmarks"></div>
        <div class="answers-grid" id="answersGrid"></div>
      </div>

      <!-- Results Phase -->
      <div id="resultsPhase" class="results-phase" style="display: none;">
        <!-- Results container will be dynamically created by resultsScreen.js -->
      </div>
    </div>

    <!-- Game Over Screen -->
    <div id="gameOverScreen" class="game-over-screen">
      <h1 style="font-size: 64px; margin-bottom: 20px;">Game Over!</h1>
      <div class="winner-celebration" id="winnerCelebration"></div>
      <div class="final-leaderboard" id="finalLeaderboard"></div>
      <button class="play-again-button" id="playAgainButton">Play Again</button>
    </div>

    <!-- Error Message -->
    <div class="error-message" id="errorMessage"></div>
  </div>

  <!-- Audio Configuration (must load first) -->
  <script src="js/config.js"></script>

  <!-- UI Utilities -->
  <script src="js/host/ui/uiUpdater.js"></script>
  <script src="js/host/ui/timer.js"></script>
  <script src="js/host/ui/gameMusic.js"></script>
  <script src="js/host/ui/soundEffects.js"></script>

  <!-- Screen Modules -->
  <script src="js/host/screens/lobbyScreen.js"></script>
  <script src="js/host/screens/submitScreen.js"></script>
  <script src="js/host/screens/votingScreen.js"></script>
  <script src="js/host/screens/resultsScreen.js"></script>
  <script src="js/host/screens/gameOverScreen.js"></script>

  <!-- Socket Handlers -->
  <script src="js/host/socketHandlers.js"></script>

  <!-- Main Initialization -->
  <script src="js/host/hostMain.js"></script>
</body>
</html>
